# 🔒 *Security model*

This document outlines the **Zero Trust** security implementation for the automated authentication framework.

---

## 1️⃣ **Identity & authentication**

**🔑 Service Principal Authentication**  
- **Uses OAuth 2.0 client credentials flow**  
- **Certificate-based** credentials stored in Azure Key Vault  
- **No user credentials** or connection strings in client apps  

**🛡️ Runtime session**  
- **Canvas App runs under a managed technical account**  
- Technical account granted **minimal permissions**  
- Protected by **Conditional Access** policies  

---

## 2️⃣ **Secret management**

**🔐 Azure Key Vault**  
- **Stores all certificates/secrets** for service principals  
- **Automated rotation** policy (e.g., **30-day** rotation)  
- Access restricted to backend service via **managed identity**  

---

## 3️⃣ **Access control**

**🕹️ Conditional Access**  
- **Enforced at token issuance**  
- Validates **device compliance**, **location**, and **real-time risk signals**  
- **Blocks** non-compliant or risky requests  

**🔒 Least-Privilege permissions**  
- Service principal granted **only necessary API permissions**  
- **Scopes limited** to required data operations (Graph, SharePoint, Dataverse)  

---

## 4️⃣ **Audit & monitoring**

**📋 Entra ID sign-in logs**  
- Logs every **service principal token request**  
- Includes **timestamp**, **application ID**, and **resource scopes**  

**🚨 Microsoft Purview / Sentinel**  
- **Ingests audit events** for data access, token issuance, and policy enforcement  
- **Real-time alerts** on unusual activity or policy violations  

**📊 Retention & reporting**  
- Audit logs retained per **compliance requirements** (e.g., **1 year**)  
- **Automated reports** generated for security reviews and audits  

---

## 5️⃣ **Compliance alignment**

**🌍 GDPR**  
- **No personal user credentials** on shared devices  
- All data-access events recorded under **service principal identity**  

**🏥 HIPAA**  
- **PHI access audited end-to-end**  
- Technical safeguards via **Conditional Access** and secure key management  

**🔐 SOC 2**  
- **Continuous monitoring** and evidence collection  
- **Formal change control** for secret rotation and policy updates  
