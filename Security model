# ğŸ”’ *Security model*

This document outlines the **Zero Trust** security implementation for the automated authentication framework.

---

## 1ï¸âƒ£ **Identity & authentication**

**ğŸ”‘ Service Principal Authentication**  
- **Uses OAuth 2.0 client credentials flow**  
- **Certificate-based** credentials stored in Azure Key Vault  
- **No user credentials** or connection strings in client apps  

**ğŸ›¡ï¸ Runtime session**  
- **Canvas App runs under a managed technical account**  
- Technical account granted **minimal permissions**  
- Protected by **Conditional Access** policies  

---

## 2ï¸âƒ£ **Secret management**

**ğŸ” Azure Key Vault**  
- **Stores all certificates/secrets** for service principals  
- **Automated rotation** policy (e.g., **30-day** rotation)  
- Access restricted to backend service via **managed identity**  

---

## 3ï¸âƒ£ **Access control**

**ğŸ•¹ï¸ Conditional Access**  
- **Enforced at token issuance**  
- Validates **device compliance**, **location**, and **real-time risk signals**  
- **Blocks** non-compliant or risky requests  

**ğŸ”’ Least-Privilege permissions**  
- Service principal granted **only necessary API permissions**  
- **Scopes limited** to required data operations (Graph, SharePoint, Dataverse)  

---

## 4ï¸âƒ£ **Audit & monitoring**

**ğŸ“‹ Entra ID sign-in logs**  
- Logs every **service principal token request**  
- Includes **timestamp**, **application ID**, and **resource scopes**  

**ğŸš¨ Microsoft Purview / Sentinel**  
- **Ingests audit events** for data access, token issuance, and policy enforcement  
- **Real-time alerts** on unusual activity or policy violations  

**ğŸ“Š Retention & reporting**  
- Audit logs retained per **compliance requirements** (e.g., **1 year**)  
- **Automated reports** generated for security reviews and audits  

---

## 5ï¸âƒ£ **Compliance alignment**

**ğŸŒ GDPR**  
- **No personal user credentials** on shared devices  
- All data-access events recorded under **service principal identity**  

**ğŸ¥ HIPAA**  
- **PHI access audited end-to-end**  
- Technical safeguards via **Conditional Access** and secure key management  

**ğŸ” SOC 2**  
- **Continuous monitoring** and evidence collection  
- **Formal change control** for secret rotation and policy updates  
